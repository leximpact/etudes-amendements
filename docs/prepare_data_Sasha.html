---

title: Normalization


keywords: fastai
sidebar: home_sidebar



nb_path: "notebook/01_prepare_data_Sasha.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebook/01_prepare_data_Sasha.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Etude-des-sujets-des-amendements-PLFSS---Sasha">Etude des sujets des amendements PLFSS - Sasha<a class="anchor-link" href="#Etude-des-sujets-des-amendements-PLFSS---Sasha"> </a></h2><h2 id="Pr&#233;paration-des-donn&#233;es">Pr&#233;paration des donn&#233;es<a class="anchor-link" href="#Pr&#233;paration-des-donn&#233;es"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">reload_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
<span class="kn">from</span> <span class="nn">IPython.core.interactiveshell</span> <span class="kn">import</span> <span class="n">InteractiveShell</span>
<span class="n">InteractiveShell</span><span class="o">.</span><span class="n">ast_node_interactivity</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>python -m spacy download fr_core_news_sm &gt; /dev/null
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="c1">#amdt = pd.read_csv(&#39;textes_amendements_nouveaux_articles_plfss_2020-2021.csv&#39;)</span>
<span class="n">amdt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://github.com/leximpact/donnees-extraites-assemblee/raw/main/textes_amendements_nouveaux_articles_plfss_2020-2021.csv&#39;</span><span class="p">)</span>
<span class="n">amdt</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>texteLegislatifUid</th>
      <th>uid</th>
      <th>avantAApres</th>
      <th>dispositif</th>
      <th>exposeSommaire</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>PRJLANR5L15B2296</td>
      <td>AMANR5L15PO420120B2296P0D1N000001</td>
      <td>A</td>
      <td>I. – Après l’alinéa 13, insérer l’alinéa suiv...</td>
      <td>La mise en place d’un accord d’intéressement d...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PRJLANR5L15B2296</td>
      <td>AMANR5L15PO420120B2296P0D1N000002</td>
      <td>Apres</td>
      <td>À la première phrase du premier alinéa de l’ar...</td>
      <td>L’article L 531‑2 du Code de la Sécurité Socia...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>PRJLANR5L15B2296</td>
      <td>AMANR5L15PO420120B2296P0D1N000005</td>
      <td>A</td>
      <td>Compléter l’alinéa 17 par la phrase suivante :...</td>
      <td>S’il est louable d’expérimenter des dispositif...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>PRJLANR5L15B2296</td>
      <td>AMANR5L15PO420120B2296P0D1N000008</td>
      <td>A</td>
      <td>Après l’alinéa 8, insérer les cinq alinéas sui...</td>
      <td>Cet amendement permet d’amplifier la portée de...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>PRJLANR5L15B2296</td>
      <td>AMANR5L15PO420120B2296P0D1N000010</td>
      <td>Apres</td>
      <td>Le premier alinéa de l’article L. 521‑1 du cod...</td>
      <td>Pendant plus de cinquante ans, notre politique...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">amdt</span><span class="p">)</span> <span class="c1">#Nombre total d&#39;amendements</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>4797</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">amdt</span><span class="p">[</span><span class="s1">&#39;texte&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">amdt</span><span class="p">[</span><span class="s1">&#39;dispositif&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">amdt</span><span class="p">[</span><span class="s1">&#39;exposeSommaire&#39;</span><span class="p">]</span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Nettoyage">Nettoyage<a class="anchor-link" href="#Nettoyage"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;stopwords&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>[nltk_data] Downloading package stopwords to /home/ben/nltk_data...
[nltk_data]   Package stopwords is already up-to-date!
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>[nltk_data] Downloading package punkt to /home/ben/nltk_data...
[nltk_data]   Unzipping tokenizers/punkt.zip.
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">word_tokenize</span>
<span class="n">tokenized</span> <span class="o">=</span> <span class="p">[</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">amdt</span><span class="p">[</span><span class="s1">&#39;texte&#39;</span><span class="p">]</span> <span class="p">]</span> <span class="c1">#return_token</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Retrait-des-mots-de-liaison-(stopword)-et-de-la-ponctuation">Retrait des mots de liaison (<em>stopword</em>) et de la ponctuation<a class="anchor-link" href="#Retrait-des-mots-de-liaison-(stopword)-et-de-la-ponctuation"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#( Casing: Est-ce vraiment utile ? Est-ce qu&#39;on ne va pas perdre les Acronymes de vue ?)</span>
<span class="n">new_tokenized</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokenized</span><span class="p">:</span>
    <span class="n">new_tokenized</span><span class="o">.</span><span class="n">append</span><span class="p">([</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">token</span> <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">new_tokenized</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;le&#39;, &#39;premier&#39;, &#39;alinéa&#39;, &#39;de&#39;, &#39;l&#39;, &#39;article&#39;, &#39;du&#39;, &#39;code&#39;, &#39;de&#39;, &#39;la&#39;, &#39;sécurité&#39;, &#39;sociale&#39;, &#39;est&#39;, &#39;complété&#39;, &#39;par&#39;, &#39;une&#39;, &#39;phrase&#39;, &#39;ainsi&#39;, &#39;rédigée&#39;, &#39;elles&#39;, &#39;sont&#39;, &#39;universelles&#39;, &#39;pendant&#39;, &#39;plus&#39;, &#39;de&#39;, &#39;cinquante&#39;, &#39;ans&#39;, &#39;notre&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;a&#39;, &#39;reposé&#39;, &#39;sur&#39;, &#39;le&#39;, &#39;principe&#39;, &#39;de&#39;, &#39;l&#39;, &#39;universalité&#39;, &#39;cela&#39;, &#39;signifie&#39;, &#39;qu&#39;, &#39;elle&#39;, &#39;s&#39;, &#39;adressait&#39;, &#39;à&#39;, &#39;tous&#39;, &#39;les&#39;, &#39;français&#39;, &#39;sans&#39;, &#39;distinction&#39;, &#39;sociale&#39;, &#39;elle&#39;, &#39;reposait&#39;, &#39;sur&#39;, &#39;l&#39;, &#39;idée&#39;, &#39;que&#39;, &#39;chaque&#39;, &#39;enfant&#39;, &#39;à&#39;, &#39;naître&#39;, &#39;est&#39;, &#39;une&#39;, &#39;chance&#39;, &#39;et&#39;, &#39;une&#39;, &#39;richesse&#39;, &#39;pour&#39;, &#39;la&#39;, &#39;france&#39;, &#39;pour&#39;, &#39;son&#39;, &#39;avenir&#39;, &#39;quel&#39;, &#39;que&#39;, &#39;soient&#39;, &#39;les&#39;, &#39;ressources&#39;, &#39;dont&#39;, &#39;disposent&#39;, &#39;les&#39;, &#39;mettre&#39;, &#39;en&#39;, &#39;place&#39;, &#39;ce&#39;, &#39;principe&#39;, &#39;d&#39;, &#39;universalité&#39;, &#39;la&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;appelle&#39;, &#39;des&#39;, &#39;outils&#39;, &#39;dits&#39;, &#39;de&#39;, &#39;redistribution&#39;, &#39;horizontale&#39;, &#39;c&#39;, &#39;des&#39;, &#39;mécanismes&#39;, &#39;de&#39;, &#39;solidarité&#39;, &#39;des&#39;, &#39;familles&#39;, &#39;sans&#39;, &#39;enfant&#39;, &#39;envers&#39;, &#39;les&#39;, &#39;familles&#39;, &#39;avec&#39;, &#39;enfants&#39;, &#39;pour&#39;, &#39;que&#39;, &#39;quel&#39;, &#39;que&#39;, &#39;soit&#39;, &#39;les&#39;, &#39;revenus&#39;, &#39;des&#39;, &#39;parents&#39;, &#39;la&#39;, &#39;naissance&#39;, &#39;d&#39;, &#39;un&#39;, &#39;enfant&#39;, &#39;n&#39;, &#39;ait&#39;, &#39;pas&#39;, &#39;pour&#39;, &#39;effet&#39;, &#39;de&#39;, &#39;porter&#39;, &#39;atteinte&#39;, &#39;à&#39;, &#39;leur&#39;, &#39;niveau&#39;, &#39;de&#39;, &#39;ce&#39;, &#39;principe&#39;, &#39;d&#39;, &#39;universalité&#39;, &#39;a&#39;, &#39;été&#39;, &#39;mis&#39;, &#39;à&#39;, &#39;mal&#39;, &#39;sous&#39;, &#39;le&#39;, &#39;précédent&#39;, &#39;quinquennat&#39;, &#39;notamment&#39;, &#39;à&#39;, &#39;travers&#39;, &#39;la&#39;, &#39;modulation&#39;, &#39;des&#39;, &#39;allocations&#39;, &#39;familiales&#39;, &#39;et&#39;, &#39;les&#39;, &#39;baisses&#39;, &#39;successives&#39;, &#39;du&#39;, &#39;quotient&#39;, &#39;familial&#39;, &#39;faisant&#39;, &#39;ainsi&#39;, &#39;de&#39;, &#39;la&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;une&#39;, &#39;politique&#39;, &#39;sociale&#39;, &#39;comme&#39;, &#39;les&#39;, &#39;loi&#39;, &#39;de&#39;, &#39;financement&#39;, &#39;de&#39;, &#39;la&#39;, &#39;sécurité&#39;, &#39;sociale&#39;, &#39;pour&#39;, &#39;a&#39;, &#39;choisi&#39;, &#39;de&#39;, &#39;ne&#39;, &#39;pas&#39;, &#39;revenir&#39;, &#39;sur&#39;, &#39;cette&#39;, &#39;modulation&#39;, &#39;des&#39;, &#39;allocations&#39;, &#39;familiales&#39;, &#39;qui&#39;, &#39;a&#39;, &#39;pour&#39;, &#39;conséquence&#39;, &#39;principale&#39;, &#39;la&#39;, &#39;baisse&#39;, &#39;de&#39;, &#39;la&#39;, &#39;natalité&#39;, &#39;dans&#39;, &#39;notre&#39;, &#39;le&#39;, &#39;présent&#39;, &#39;amendement&#39;, &#39;vise&#39;, &#39;à&#39;, &#39;réintroduire&#39;, &#39;ce&#39;, &#39;principe&#39;, &#39;d&#39;, &#39;universalité&#39;, &#39;base&#39;, &#39;même&#39;, &#39;de&#39;, &#39;la&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;française&#39;, &#39;enviée&#39;, &#39;par&#39;, &#39;tant&#39;, &#39;de&#39;, &#39;nos&#39;, &#39;voisins&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#On importe les mots &quot;inutiles&quot; (stopwords) du langage français</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span> 
<span class="n">stop_words</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s2">&quot;french&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stop_words</span><span class="p">[:</span><span class="mi">20</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;au&#39;, &#39;aux&#39;, &#39;avec&#39;, &#39;ce&#39;, &#39;ces&#39;, &#39;dans&#39;, &#39;de&#39;, &#39;des&#39;, &#39;du&#39;, &#39;elle&#39;, &#39;en&#39;, &#39;et&#39;, &#39;eux&#39;, &#39;il&#39;, &#39;ils&#39;, &#39;je&#39;, &#39;la&#39;, &#39;le&#39;, &#39;les&#39;, &#39;leur&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SW</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Added_stop_words.csv&#39;</span><span class="p">)</span>
<span class="n">SW</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">SW</span><span class="p">[</span><span class="s1">&#39;StopWords&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;NOS MOTS &#39;INUTILES&#39; : </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">SW</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>NOS MOTS &#39;INUTILES&#39; : 
 [&#39;alinéa&#39;, &#39;amendement&#39;, &#39;º&#39;, &#39;L.&#39;, &#39;loi&#39;, &#39;présent&#39;, &#39;rapport&#39;, &#39;1&#39;, &#39;2020&#39;, &#39;II&#39;, &#39;phrase&#39;, &#39;2&#39;, &#39;Gouvernement&#39;, &#39;I.&#39;, &#39;575&#39;, &#39;organismes&#39;, &#39;3&#39;, &#39;2019&#39;, &#39;secteur&#39;, &#39;non&#39;, &#39;mot&#39;, &#39;mesure&#39;, &#39;Etat&#39;, &#39;Objet&#39;, &#39;objet&#39;, &#39;compte&#39;, &#39;situation&#39;, &#39;ans&#39;, &#39;propose&#39;, &#39;4&#39;, &#39;III&#39;, &#39;également&#39;, &#39;congé&#39;, &#39;ainsi&#39;, &#39;afin&#39;, &#39;tel&#39;, &#39;cet&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AVANT : </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tokenized</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">final_SW</span> <span class="o">=</span> <span class="n">SW</span> <span class="o">+</span> <span class="n">stop_words</span>
<span class="n">tokenized</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">new_tokenized</span><span class="p">:</span>
    <span class="n">tokenized</span><span class="o">.</span><span class="n">append</span><span class="p">([</span> <span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">token</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">final_SW</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;APRÈS : </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tokenized</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MOT ENLEVÉS : </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">final_SW</span><span class="p">)</span> <span class="c1"># On affiche ci-dessous tous les mots que l&#39;on a retirés</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>AVANT : 
 [&#39;Le&#39;, &#39;premier&#39;, &#39;alinéa&#39;, &#39;de&#39;, &#39;l&#39;, &#39;’&#39;, &#39;article&#39;, &#39;L.&#39;, &#39;521‑1&#39;, &#39;du&#39;, &#39;code&#39;, &#39;de&#39;, &#39;la&#39;, &#39;sécurité&#39;, &#39;sociale&#39;, &#39;est&#39;, &#39;complété&#39;, &#39;par&#39;, &#39;une&#39;, &#39;phrase&#39;, &#39;ainsi&#39;, &#39;rédigée&#39;, &#39;:&#39;, &#39;«&#39;, &#39;Elles&#39;, &#39;sont&#39;, &#39;universelles&#39;, &#39;.&#39;, &#39;»&#39;, &#39;Pendant&#39;, &#39;plus&#39;, &#39;de&#39;, &#39;cinquante&#39;, &#39;ans&#39;, &#39;,&#39;, &#39;notre&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;a&#39;, &#39;reposé&#39;, &#39;sur&#39;, &#39;le&#39;, &#39;principe&#39;, &#39;de&#39;, &#39;l&#39;, &#39;’&#39;, &#39;universalité&#39;, &#39;.&#39;, &#39;Cela&#39;, &#39;signifie&#39;, &#39;qu&#39;, &#39;’&#39;, &#39;elle&#39;, &#39;s&#39;, &#39;’&#39;, &#39;adressait&#39;, &#39;à&#39;, &#39;tous&#39;, &#39;les&#39;, &#39;Français&#39;, &#39;,&#39;, &#39;sans&#39;, &#39;distinction&#39;, &#39;sociale&#39;, &#39;.&#39;, &#39;Elle&#39;, &#39;reposait&#39;, &#39;sur&#39;, &#39;l&#39;, &#39;’&#39;, &#39;idée&#39;, &#39;que&#39;, &#39;chaque&#39;, &#39;enfant&#39;, &#39;à&#39;, &#39;naître&#39;, &#39;est&#39;, &#39;une&#39;, &#39;chance&#39;, &#39;et&#39;, &#39;une&#39;, &#39;richesse&#39;, &#39;pour&#39;, &#39;la&#39;, &#39;France&#39;, &#39;,&#39;, &#39;pour&#39;, &#39;son&#39;, &#39;avenir&#39;, &#39;,&#39;, &#39;quel&#39;, &#39;que&#39;, &#39;soient&#39;, &#39;les&#39;, &#39;ressources&#39;, &#39;dont&#39;, &#39;disposent&#39;, &#39;les&#39;, &#39;parents.Pour&#39;, &#39;mettre&#39;, &#39;en&#39;, &#39;place&#39;, &#39;ce&#39;, &#39;principe&#39;, &#39;d&#39;, &#39;’&#39;, &#39;universalité&#39;, &#39;,&#39;, &#39;la&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;appelle&#39;, &#39;des&#39;, &#39;outils&#39;, &#39;dits&#39;, &#39;de&#39;, &#39;redistribution&#39;, &#39;horizontale&#39;, &#39;,&#39;, &#39;c&#39;, &#39;’&#39;, &#39;est-à-dire&#39;, &#39;des&#39;, &#39;mécanismes&#39;, &#39;de&#39;, &#39;solidarité&#39;, &#39;des&#39;, &#39;familles&#39;, &#39;sans&#39;, &#39;enfant&#39;, &#39;envers&#39;, &#39;les&#39;, &#39;familles&#39;, &#39;avec&#39;, &#39;enfants&#39;, &#39;,&#39;, &#39;pour&#39;, &#39;que&#39;, &#39;,&#39;, &#39;quel&#39;, &#39;que&#39;, &#39;soit&#39;, &#39;les&#39;, &#39;revenus&#39;, &#39;des&#39;, &#39;parents&#39;, &#39;,&#39;, &#39;la&#39;, &#39;naissance&#39;, &#39;d&#39;, &#39;’&#39;, &#39;un&#39;, &#39;enfant&#39;, &#39;n&#39;, &#39;’&#39;, &#39;ait&#39;, &#39;pas&#39;, &#39;pour&#39;, &#39;effet&#39;, &#39;de&#39;, &#39;porter&#39;, &#39;atteinte&#39;, &#39;à&#39;, &#39;leur&#39;, &#39;niveau&#39;, &#39;de&#39;, &#39;vie.Or&#39;, &#39;,&#39;, &#39;ce&#39;, &#39;principe&#39;, &#39;d&#39;, &#39;’&#39;, &#39;universalité&#39;, &#39;a&#39;, &#39;été&#39;, &#39;mis&#39;, &#39;à&#39;, &#39;mal&#39;, &#39;sous&#39;, &#39;le&#39;, &#39;précédent&#39;, &#39;quinquennat&#39;, &#39;,&#39;, &#39;notamment&#39;, &#39;à&#39;, &#39;travers&#39;, &#39;la&#39;, &#39;modulation&#39;, &#39;des&#39;, &#39;allocations&#39;, &#39;familiales&#39;, &#39;et&#39;, &#39;les&#39;, &#39;baisses&#39;, &#39;successives&#39;, &#39;du&#39;, &#39;quotient&#39;, &#39;familial&#39;, &#39;,&#39;, &#39;faisant&#39;, &#39;ainsi&#39;, &#39;de&#39;, &#39;la&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;une&#39;, &#39;politique&#39;, &#39;sociale&#39;, &#39;comme&#39;, &#39;les&#39;, &#39;autres.La&#39;, &#39;loi&#39;, &#39;de&#39;, &#39;financement&#39;, &#39;de&#39;, &#39;la&#39;, &#39;sécurité&#39;, &#39;sociale&#39;, &#39;pour&#39;, &#39;2018&#39;, &#39;a&#39;, &#39;choisi&#39;, &#39;de&#39;, &#39;ne&#39;, &#39;pas&#39;, &#39;revenir&#39;, &#39;sur&#39;, &#39;cette&#39;, &#39;modulation&#39;, &#39;des&#39;, &#39;allocations&#39;, &#39;familiales&#39;, &#39;qui&#39;, &#39;a&#39;, &#39;pour&#39;, &#39;conséquence&#39;, &#39;principale&#39;, &#39;la&#39;, &#39;baisse&#39;, &#39;de&#39;, &#39;la&#39;, &#39;natalité&#39;, &#39;dans&#39;, &#39;notre&#39;, &#39;pays.Aussi&#39;, &#39;,&#39;, &#39;le&#39;, &#39;présent&#39;, &#39;amendement&#39;, &#39;vise&#39;, &#39;à&#39;, &#39;réintroduire&#39;, &#39;ce&#39;, &#39;principe&#39;, &#39;d&#39;, &#39;’&#39;, &#39;universalité&#39;, &#39;,&#39;, &#39;base&#39;, &#39;même&#39;, &#39;de&#39;, &#39;la&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;française&#39;, &#39;,&#39;, &#39;enviée&#39;, &#39;par&#39;, &#39;tant&#39;, &#39;de&#39;, &#39;nos&#39;, &#39;voisins&#39;, &#39;.&#39;] 

APRÈS : 
 [&#39;premier&#39;, &#39;article&#39;, &#39;code&#39;, &#39;sécurité&#39;, &#39;sociale&#39;, &#39;complété&#39;, &#39;rédigée&#39;, &#39;elles&#39;, &#39;universelles&#39;, &#39;pendant&#39;, &#39;plus&#39;, &#39;cinquante&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;a&#39;, &#39;reposé&#39;, &#39;principe&#39;, &#39;universalité&#39;, &#39;cela&#39;, &#39;signifie&#39;, &#39;adressait&#39;, &#39;tous&#39;, &#39;français&#39;, &#39;sans&#39;, &#39;distinction&#39;, &#39;sociale&#39;, &#39;reposait&#39;, &#39;idée&#39;, &#39;chaque&#39;, &#39;enfant&#39;, &#39;naître&#39;, &#39;chance&#39;, &#39;richesse&#39;, &#39;france&#39;, &#39;avenir&#39;, &#39;quel&#39;, &#39;ressources&#39;, &#39;dont&#39;, &#39;disposent&#39;, &#39;mettre&#39;, &#39;place&#39;, &#39;principe&#39;, &#39;universalité&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;appelle&#39;, &#39;outils&#39;, &#39;dits&#39;, &#39;redistribution&#39;, &#39;horizontale&#39;, &#39;mécanismes&#39;, &#39;solidarité&#39;, &#39;familles&#39;, &#39;sans&#39;, &#39;enfant&#39;, &#39;envers&#39;, &#39;familles&#39;, &#39;enfants&#39;, &#39;quel&#39;, &#39;revenus&#39;, &#39;parents&#39;, &#39;naissance&#39;, &#39;enfant&#39;, &#39;effet&#39;, &#39;porter&#39;, &#39;atteinte&#39;, &#39;niveau&#39;, &#39;principe&#39;, &#39;universalité&#39;, &#39;a&#39;, &#39;mis&#39;, &#39;mal&#39;, &#39;sous&#39;, &#39;précédent&#39;, &#39;quinquennat&#39;, &#39;notamment&#39;, &#39;travers&#39;, &#39;modulation&#39;, &#39;allocations&#39;, &#39;familiales&#39;, &#39;baisses&#39;, &#39;successives&#39;, &#39;quotient&#39;, &#39;familial&#39;, &#39;faisant&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;politique&#39;, &#39;sociale&#39;, &#39;comme&#39;, &#39;financement&#39;, &#39;sécurité&#39;, &#39;sociale&#39;, &#39;a&#39;, &#39;choisi&#39;, &#39;revenir&#39;, &#39;cette&#39;, &#39;modulation&#39;, &#39;allocations&#39;, &#39;familiales&#39;, &#39;a&#39;, &#39;conséquence&#39;, &#39;principale&#39;, &#39;baisse&#39;, &#39;natalité&#39;, &#39;vise&#39;, &#39;réintroduire&#39;, &#39;principe&#39;, &#39;universalité&#39;, &#39;base&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;française&#39;, &#39;enviée&#39;, &#39;tant&#39;, &#39;voisins&#39;] 

MOT ENLEVÉS : 
 [&#39;alinéa&#39;, &#39;amendement&#39;, &#39;º&#39;, &#39;L.&#39;, &#39;loi&#39;, &#39;présent&#39;, &#39;rapport&#39;, &#39;1&#39;, &#39;2020&#39;, &#39;II&#39;, &#39;phrase&#39;, &#39;2&#39;, &#39;Gouvernement&#39;, &#39;I.&#39;, &#39;575&#39;, &#39;organismes&#39;, &#39;3&#39;, &#39;2019&#39;, &#39;secteur&#39;, &#39;non&#39;, &#39;mot&#39;, &#39;mesure&#39;, &#39;Etat&#39;, &#39;Objet&#39;, &#39;objet&#39;, &#39;compte&#39;, &#39;situation&#39;, &#39;ans&#39;, &#39;propose&#39;, &#39;4&#39;, &#39;III&#39;, &#39;également&#39;, &#39;congé&#39;, &#39;ainsi&#39;, &#39;afin&#39;, &#39;tel&#39;, &#39;cet&#39;, &#39;au&#39;, &#39;aux&#39;, &#39;avec&#39;, &#39;ce&#39;, &#39;ces&#39;, &#39;dans&#39;, &#39;de&#39;, &#39;des&#39;, &#39;du&#39;, &#39;elle&#39;, &#39;en&#39;, &#39;et&#39;, &#39;eux&#39;, &#39;il&#39;, &#39;ils&#39;, &#39;je&#39;, &#39;la&#39;, &#39;le&#39;, &#39;les&#39;, &#39;leur&#39;, &#39;lui&#39;, &#39;ma&#39;, &#39;mais&#39;, &#39;me&#39;, &#39;même&#39;, &#39;mes&#39;, &#39;moi&#39;, &#39;mon&#39;, &#39;ne&#39;, &#39;nos&#39;, &#39;notre&#39;, &#39;nous&#39;, &#39;on&#39;, &#39;ou&#39;, &#39;par&#39;, &#39;pas&#39;, &#39;pour&#39;, &#39;qu&#39;, &#39;que&#39;, &#39;qui&#39;, &#39;sa&#39;, &#39;se&#39;, &#39;ses&#39;, &#39;son&#39;, &#39;sur&#39;, &#39;ta&#39;, &#39;te&#39;, &#39;tes&#39;, &#39;toi&#39;, &#39;ton&#39;, &#39;tu&#39;, &#39;un&#39;, &#39;une&#39;, &#39;vos&#39;, &#39;votre&#39;, &#39;vous&#39;, &#39;c&#39;, &#39;d&#39;, &#39;j&#39;, &#39;l&#39;, &#39;à&#39;, &#39;m&#39;, &#39;n&#39;, &#39;s&#39;, &#39;t&#39;, &#39;y&#39;, &#39;été&#39;, &#39;étée&#39;, &#39;étées&#39;, &#39;étés&#39;, &#39;étant&#39;, &#39;étante&#39;, &#39;étants&#39;, &#39;étantes&#39;, &#39;suis&#39;, &#39;es&#39;, &#39;est&#39;, &#39;sommes&#39;, &#39;êtes&#39;, &#39;sont&#39;, &#39;serai&#39;, &#39;seras&#39;, &#39;sera&#39;, &#39;serons&#39;, &#39;serez&#39;, &#39;seront&#39;, &#39;serais&#39;, &#39;serait&#39;, &#39;serions&#39;, &#39;seriez&#39;, &#39;seraient&#39;, &#39;étais&#39;, &#39;était&#39;, &#39;étions&#39;, &#39;étiez&#39;, &#39;étaient&#39;, &#39;fus&#39;, &#39;fut&#39;, &#39;fûmes&#39;, &#39;fûtes&#39;, &#39;furent&#39;, &#39;sois&#39;, &#39;soit&#39;, &#39;soyons&#39;, &#39;soyez&#39;, &#39;soient&#39;, &#39;fusse&#39;, &#39;fusses&#39;, &#39;fût&#39;, &#39;fussions&#39;, &#39;fussiez&#39;, &#39;fussent&#39;, &#39;ayant&#39;, &#39;ayante&#39;, &#39;ayantes&#39;, &#39;ayants&#39;, &#39;eu&#39;, &#39;eue&#39;, &#39;eues&#39;, &#39;eus&#39;, &#39;ai&#39;, &#39;as&#39;, &#39;avons&#39;, &#39;avez&#39;, &#39;ont&#39;, &#39;aurai&#39;, &#39;auras&#39;, &#39;aura&#39;, &#39;aurons&#39;, &#39;aurez&#39;, &#39;auront&#39;, &#39;aurais&#39;, &#39;aurait&#39;, &#39;aurions&#39;, &#39;auriez&#39;, &#39;auraient&#39;, &#39;avais&#39;, &#39;avait&#39;, &#39;avions&#39;, &#39;aviez&#39;, &#39;avaient&#39;, &#39;eut&#39;, &#39;eûmes&#39;, &#39;eûtes&#39;, &#39;eurent&#39;, &#39;aie&#39;, &#39;aies&#39;, &#39;ait&#39;, &#39;ayons&#39;, &#39;ayez&#39;, &#39;aient&#39;, &#39;eusse&#39;, &#39;eusses&#39;, &#39;eût&#39;, &#39;eussions&#39;, &#39;eussiez&#39;, &#39;eussent&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;wordnet&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>[nltk_data] Downloading package wordnet to /home/ben/nltk_data...
[nltk_data]   Unzipping corpora/wordnet.zip.
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.stem</span> <span class="kn">import</span> <span class="n">WordNetLemmatizer</span>
<span class="n">lemmatizer</span> <span class="o">=</span> <span class="n">WordNetLemmatizer</span><span class="p">()</span>

<span class="n">amdt_clean</span><span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokenized</span><span class="p">:</span>
    <span class="n">amdt_clean</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">token</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">amdt_clean</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;premier&#39;, &#39;article&#39;, &#39;code&#39;, &#39;sécurité&#39;, &#39;sociale&#39;, &#39;complété&#39;, &#39;rédigée&#39;, &#39;elles&#39;, &#39;universelles&#39;, &#39;pendant&#39;, &#39;plus&#39;, &#39;cinquante&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;a&#39;, &#39;reposé&#39;, &#39;principe&#39;, &#39;universalité&#39;, &#39;cela&#39;, &#39;signifie&#39;, &#39;adressait&#39;, &#39;tous&#39;, &#39;français&#39;, &#39;sans&#39;, &#39;distinction&#39;, &#39;sociale&#39;, &#39;reposait&#39;, &#39;idée&#39;, &#39;chaque&#39;, &#39;enfant&#39;, &#39;naître&#39;, &#39;chance&#39;, &#39;richesse&#39;, &#39;france&#39;, &#39;avenir&#39;, &#39;quel&#39;, &#39;ressources&#39;, &#39;dont&#39;, &#39;disposent&#39;, &#39;mettre&#39;, &#39;place&#39;, &#39;principe&#39;, &#39;universalité&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;appelle&#39;, &#39;outils&#39;, &#39;dit&#39;, &#39;redistribution&#39;, &#39;horizontale&#39;, &#39;mécanismes&#39;, &#39;solidarité&#39;, &#39;familles&#39;, &#39;sans&#39;, &#39;enfant&#39;, &#39;envers&#39;, &#39;familles&#39;, &#39;enfants&#39;, &#39;quel&#39;, &#39;revenus&#39;, &#39;parent&#39;, &#39;naissance&#39;, &#39;enfant&#39;, &#39;effet&#39;, &#39;porter&#39;, &#39;atteinte&#39;, &#39;niveau&#39;, &#39;principe&#39;, &#39;universalité&#39;, &#39;a&#39;, &#39;mi&#39;, &#39;mal&#39;, &#39;sou&#39;, &#39;précédent&#39;, &#39;quinquennat&#39;, &#39;notamment&#39;, &#39;travers&#39;, &#39;modulation&#39;, &#39;allocation&#39;, &#39;familiales&#39;, &#39;bai&#39;, &#39;successives&#39;, &#39;quotient&#39;, &#39;familial&#39;, &#39;faisant&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;politique&#39;, &#39;sociale&#39;, &#39;comme&#39;, &#39;financement&#39;, &#39;sécurité&#39;, &#39;sociale&#39;, &#39;a&#39;, &#39;choisi&#39;, &#39;revenir&#39;, &#39;cette&#39;, &#39;modulation&#39;, &#39;allocation&#39;, &#39;familiales&#39;, &#39;a&#39;, &#39;conséquence&#39;, &#39;principale&#39;, &#39;baisse&#39;, &#39;natalité&#39;, &#39;vise&#39;, &#39;réintroduire&#39;, &#39;principe&#39;, &#39;universalité&#39;, &#39;base&#39;, &#39;politique&#39;, &#39;familiale&#39;, &#39;française&#39;, &#39;enviée&#39;, &#39;tant&#39;, &#39;voisins&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">amdt_clean</span><span class="p">)</span>
<span class="c1">#print(df.head(10))</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;amdt_clean.csv&#39;</span><span class="p">)</span>  <span class="c1">#Chaque ligne est un amendement</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Les-mots-les-plus-cit&#233;s">Les mots les plus cit&#233;s<a class="anchor-link" href="#Les-mots-les-plus-cit&#233;s"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="n">most</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">amdt_clean</span><span class="p">:</span>
    <span class="n">bow</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
    <span class="n">most</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bow</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>


<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">most</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;most_common_word_per_amdt.csv&#39;</span><span class="p">)</span>  <span class="c1">#Chaque ligne est un amendement </span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>                     0                 1                2   \
0         (salariés, 7)  (entreprises, 4)       (moins, 4)   
1       (naissance, 15)      (enfant, 14)       (prime, 9)   
2  (expérimentation, 5)      (article, 4)        (code, 3)   
3          (service, 7)      (article, 5)        (code, 4)   
4        (politique, 5)      (sociale, 4)   (familiale, 4)   
5       (allocation, 6)   (familiales, 5)  (modulation, 5)   
6       (allocation, 4)     (adoptées, 3)   (naissance, 3)   
7       (allocation, 4)     (adoptées, 3)   (naissance, 3)   
8           (charge, 9)      (patient, 8)        (pied, 6)   
9     (substitution, 5)   (pharmacien, 4)  (médicament, 4)   

                   3                    4                  5               6   \
0          (prime, 3)  (exceptionnelle, 3)       (article, 3)       (mise, 3)   
1        (sociale, 6)       (politique, 6)       (article, 5)       (date, 5)   
2        (service, 3)           (cette, 2)     (notamment, 2)     (effets, 2)   
3  (établissement, 4)           (actes, 4)         (soins, 3)     (social, 3)   
4              (a, 4)        (principe, 4)  (universalité, 4)     (enfant, 3)   
5         (revenu, 4)    (universalité, 4)       (sociale, 4)          (a, 4)   
6           (mode, 3)         (mesures, 2)     (politique, 2)   (quotient, 2)   
7           (mode, 3)         (mesures, 2)     (politique, 2)   (quotient, 2)   
8          (prise, 5)      (diabétique, 5)       (diabète, 4)  (assurance, 3)   
9          (cette, 4)         (article, 3)    (biologique, 3)      (cadre, 3)   

                     7                    8                    9   ...  \
0            (place, 3)          (accord, 3)       (employeur, 2)  ...   
1        (versement, 5)           (avant, 5)        (familles, 5)  ...   
2  (contemporanéité, 2)   (participation, 2)      (financière, 2)  ...   
3           (règles, 3)  (établissements, 3)           (entre, 3)  ...   
4         (sécurité, 2)            (sans, 2)            (quel, 2)  ...   
5          (revenus, 4)            (plus, 4)           (impôt, 4)  ...   
6         (parental, 2)            (base, 2)          (nombre, 2)  ...   
7         (parental, 2)            (base, 2)          (nombre, 2)  ...   
8          (maladie, 3)          (cahier, 3)  (établissements, 3)  ...   
9        (condition, 2)          (décret, 2)   (réglementaire, 2)  ...   

                  20                  21              22              23  \
0    (mentionnés, 2)              (a, 2)       (code, 2)    (général, 2)   
1       (arrivée, 3)           (bien, 3)      (après, 2)     (versée, 2)   
2          (saad, 2)           (prix, 2)        (apa, 2)        (pch, 2)   
3     (modalités, 2)  (qualification, 2)       (aide, 2)       (lors, 2)   
4  (universelles, 1)        (pendant, 1)       (plus, 1)  (cinquante, 1)   
5           (sou, 2)         (retour, 2)     (prévue, 2)  (familiale, 2)   
6         (entre, 1)          (porte, 1)  (notamment, 1)   (familial, 1)   
7         (entre, 1)          (porte, 1)  (notamment, 1)   (familial, 1)   
8         (alors, 2)       (pratique, 2)       (plus, 2)       (déjà, 2)   
9       (sociale, 1)        (prévoit, 1)       (code, 1)      (santé, 1)   

                   24                25               26              27  \
0  (intéressement, 2)            (i, 1)       (après, 1)    (insérer, 1)   
1     (ressources, 2)         (doit, 2)      (décret, 2)   (décembre, 2)   
2       (convient, 2)           (ni, 2)   (compléter, 1)   (suivante, 1)   
3   (expérimenter, 2)  (dérogations, 2)      (formes, 2)   (parcours, 2)   
4         (reposé, 1)         (cela, 1)    (signifie, 1)  (adressait, 1)   
5        (système, 2)        (effet, 2)     (montant, 2)      (foyer, 2)   
6     (familiales, 1)        (prime, 1)  (prestation, 1)    (accueil, 1)   
7     (familiales, 1)        (prime, 1)  (prestation, 1)    (accueil, 1)   
8   (représentent, 2)      (élèvent, 2)        (donc, 2)      (soins, 2)   
9       (publique, 1)      (indique, 1)  (dérogation, 1)    (premier, 1)   

                    28              29  
0         (suivant, 1)          (v, 1)  
1            (mois, 2)      (choix, 2)  
2    (gouvernement, 1)      (remet, 1)  
3       (personnes, 2)      (sujet, 2)  
4            (tous, 1)   (français, 1)  
5  (redistribution, 2)    (partage, 2)  
6           (jeune, 1)     (enfant, 1)  
7           (jeune, 1)     (enfant, 1)  
8         (million, 2)  (améliorer, 1)  
9            (peut, 1)   (délivrer, 1)  

[10 rows x 30 columns]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="TF-IDF">TF IDF<a class="anchor-link" href="#TF-IDF"> </a></h1><p>Term frequency - inverse document frequency</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">corpus</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">amdt1</span> <span class="ow">in</span> <span class="n">amdt_clean</span><span class="p">:</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">amdt1</span><span class="p">)</span>
    <span class="n">corpus</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    
<span class="c1">#Vectorization - Term Frequency in Global Corpus</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">CountVectorizer</span>
<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">()</span>
<span class="n">tf</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">corpus</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;compléter suivante gouvernement remet parlement échéance cette période expérimentation évaluation portant notamment effets contemporanéité crédit impôt mentionné article sexdecies code général impôts participation financière bénéficiaires prestations mentionnées article code action sociale familles part coûts induits application i article prestataires définis article code travail participant expérimentation autre part louable expérimenter dispositifs permettant plus avoir décalage entre moment où dépense réalisée celui où aide perçues personnes recourant service domicile notamment plus vulnérables entre elles nécessaire mesurer éventuels effets induits négatifs telles mesures effet certains saad facturent prix participation financière légale prévue apa pch convient mesurer effet cette expérimentation prix service conséquence reste ailleurs expérimentation prévoit contemporanéité apa pch organisé centre cesu or ore déjà conseils départementaux peuvent verser directement mécanisme tier payant prises charge saad limitant avance trésorerie bénéficiaires convient vérifier expérimentation introduisant nouvel acteur engendre ni surcoût personnes service prestataires ni complexité supplémentaire&#39;, &#39;après insérer cinq alinéas suivants article dudit code limitent possibilités organiser délégations soins cadre prise charge établissement santé établissement service social rédigé disposition suivantes code action sociale familles a règles tarification organisation prévues code action sociale familles applicables établissements service mentionnés article code b article redéfinir modalités qualification entre actes aide actes soins lors prise charge établissement service social permet amplifier portée article effet question clé rigidités financières lesquelles article ouvre possibilité expérimenter dérogations règles tarification établissements service sociaux autres formes cloisonnement mettent cause pertinence accompagnements génèrent rupture parcours personnes prévoit étendre dérogations deux point règles organisation établissements service sociaux favoriser innovation organisationnelles permettre expérimenter nouvelles formes coopération entre acteurs sociaux sanitaires service parcours santé vie personnes modalités qualification entre actes aide actes soins cadre accompagnement établissement service social plf similaire déposé rejeté gouvernement motif sujet devait être traité lors concertation grand âge autonomie pilotée dominique libault or mar aborde expressément sujet justifie déposer nouveau&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">feature_names</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">feature_names</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;aa&#39;, &#39;aah&#39;, &#39;aasctel&#39;, &#39;ab&#39;, &#39;abaissant&#39;, &#39;abaisse&#39;, &#39;abaissement&#39;, &#39;abaisser&#39;, &#39;abaissés&#39;, &#39;abandon&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="n">corpus_index</span> <span class="o">=</span> <span class="n">amdt</span><span class="p">[</span><span class="s1">&#39;uid&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">corpus_index</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
<span class="c1">#amdt[&#39;uid&#39;].nunique() </span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;AMANR5L15PO420120B2296P0D1N000001&#39;, &#39;AMANR5L15PO420120B2296P0D1N000002&#39;, &#39;AMANR5L15PO420120B2296P0D1N000005&#39;, &#39;AMANR5L15PO420120B2296P0D1N000008&#39;, &#39;AMANR5L15PO420120B2296P0D1N000010&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#IDF - Inverse Document Frequencies</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>

<span class="c1"># initialize and fit TfidfVectorizer</span>
<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">tf_idf_scores</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
<span class="c1">#print(tf_idf_scores)</span>
<span class="c1"># get vocabulary of terms</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>
<span class="c1">#print(type(tf_idf_scores.todense()))</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tf_idf_scores</span><span class="o">.</span><span class="n">todense</span><span class="p">())</span> <span class="p">)</span>  <span class="c1">#ICI on a bien les bonnes valeurs</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tf_idf_scores</span><span class="o">.</span><span class="n">todense</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
<span class="c1">#print(feature_names)</span>
<span class="c1"># create pandas DataFrame with tf-idf scores</span>
<span class="n">df_tf_idf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tf_idf_scores</span><span class="o">.</span><span class="n">todense</span><span class="p">()),</span> <span class="n">index</span><span class="o">=</span><span class="n">corpus_index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_tf_idf</span><span class="p">)</span>
<span class="c1">#df_tf_idf.fillna(0)</span>
<span class="n">df_tf_idf</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">#df_tf_idf.reset_index() </span>
<span class="c1">#df_tf_idf.rename_axis(&#39;ID&#39;) </span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>      0         1      2      3      4      5      6      7      8      9      \
0       0.0  0.000000    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   
1       0.0  0.000000    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   
2       0.0  0.000000    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   
3       0.0  0.000000    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   
4       0.0  0.000000    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   
...     ...       ...    ...    ...    ...    ...    ...    ...    ...    ...   
4792    0.0  0.000000    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   
4793    0.0  0.000000    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   
4794    0.0  5.669292    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   
4795    0.0  0.000000    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   
4796    0.0  0.000000    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0   

      ...  13052    13053     13054  13055  13056  13057  13058  13059  13060  \
0     ...    0.0  2.09383  0.000000    0.0    0.0    0.0    0.0    0.0    0.0   
1     ...    0.0  2.09383  0.000000    0.0    0.0    0.0    0.0    0.0    0.0   
2     ...    0.0  0.00000  0.000000    0.0    0.0    0.0    0.0    0.0    0.0   
3     ...    0.0  2.09383  0.000000    0.0    0.0    0.0    0.0    0.0    0.0   
4     ...    0.0  0.00000  0.000000    0.0    0.0    0.0    0.0    0.0    0.0   
...   ...    ...      ...       ...    ...    ...    ...    ...    ...    ...   
4792  ...    0.0  0.00000  0.000000    0.0    0.0    0.0    0.0    0.0    0.0   
4793  ...    0.0  2.09383  8.377342    0.0    0.0    0.0    0.0    0.0    0.0   
4794  ...    0.0  0.00000  0.000000    0.0    0.0    0.0    0.0    0.0    0.0   
4795  ...    0.0  0.00000  0.000000    0.0    0.0    0.0    0.0    0.0    0.0   
4796  ...    0.0  0.00000  0.000000    0.0    0.0    0.0    0.0    0.0    0.0   

      13061  
0       0.0  
1       0.0  
2       0.0  
3       0.0  
4       0.0  
...     ...  
4792    0.0  
4793    0.0  
4794    0.0  
4795    0.0  
4796    0.0  

[4797 rows x 13062 columns]
   0      1      2      3      4      5      6      7      8      9      ...  \
0    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0  ...   

   13052    13053  13054  13055  13056  13057  13058  13059  13060  13061  
0    0.0  2.09383    0.0    0.0    0.0    0.0    0.0    0.0    0.0    0.0  

[1 rows x 13062 columns]
                                     aa  aah  aasctel  ab  abaissant  abaisse  \
AMANR5L15PO420120B2296P0D1N000001   NaN  NaN      NaN NaN        NaN      NaN   
AMANR5L15PO420120B2296P0D1N000002   NaN  NaN      NaN NaN        NaN      NaN   
AMANR5L15PO420120B2296P0D1N000005   NaN  NaN      NaN NaN        NaN      NaN   
AMANR5L15PO420120B2296P0D1N000008   NaN  NaN      NaN NaN        NaN      NaN   
AMANR5L15PO420120B2296P0D1N000010   NaN  NaN      NaN NaN        NaN      NaN   
...                                  ..  ...      ...  ..        ...      ...   
AMANR5L15PO717460BTA0353P0D1N000118 NaN  NaN      NaN NaN        NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000119 NaN  NaN      NaN NaN        NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000120 NaN  NaN      NaN NaN        NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000121 NaN  NaN      NaN NaN        NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000122 NaN  NaN      NaN NaN        NaN      NaN   

                                     abaissement  abaisser  abaissés  abandon  \
AMANR5L15PO420120B2296P0D1N000001            NaN       NaN       NaN      NaN   
AMANR5L15PO420120B2296P0D1N000002            NaN       NaN       NaN      NaN   
AMANR5L15PO420120B2296P0D1N000005            NaN       NaN       NaN      NaN   
AMANR5L15PO420120B2296P0D1N000008            NaN       NaN       NaN      NaN   
AMANR5L15PO420120B2296P0D1N000010            NaN       NaN       NaN      NaN   
...                                          ...       ...       ...      ...   
AMANR5L15PO717460BTA0353P0D1N000118          NaN       NaN       NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000119          NaN       NaN       NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000120          NaN       NaN       NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000121          NaN       NaN       NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000122          NaN       NaN       NaN      NaN   

                                     ...  événements  être  êtrepar  île  \
AMANR5L15PO420120B2296P0D1N000001    ...         NaN   NaN      NaN  NaN   
AMANR5L15PO420120B2296P0D1N000002    ...         NaN   NaN      NaN  NaN   
AMANR5L15PO420120B2296P0D1N000005    ...         NaN   NaN      NaN  NaN   
AMANR5L15PO420120B2296P0D1N000008    ...         NaN   NaN      NaN  NaN   
AMANR5L15PO420120B2296P0D1N000010    ...         NaN   NaN      NaN  NaN   
...                                  ...         ...   ...      ...  ...   
AMANR5L15PO717460BTA0353P0D1N000118  ...         NaN   NaN      NaN  NaN   
AMANR5L15PO717460BTA0353P0D1N000119  ...         NaN   NaN      NaN  NaN   
AMANR5L15PO717460BTA0353P0D1N000120  ...         NaN   NaN      NaN  NaN   
AMANR5L15PO717460BTA0353P0D1N000121  ...         NaN   NaN      NaN  NaN   
AMANR5L15PO717460BTA0353P0D1N000122  ...         NaN   NaN      NaN  NaN   

                                     œnologie  œufs  œuvrant  œuvre  œuvrent  \
AMANR5L15PO420120B2296P0D1N000001         NaN   NaN      NaN    NaN      NaN   
AMANR5L15PO420120B2296P0D1N000002         NaN   NaN      NaN    NaN      NaN   
AMANR5L15PO420120B2296P0D1N000005         NaN   NaN      NaN    NaN      NaN   
AMANR5L15PO420120B2296P0D1N000008         NaN   NaN      NaN    NaN      NaN   
AMANR5L15PO420120B2296P0D1N000010         NaN   NaN      NaN    NaN      NaN   
...                                       ...   ...      ...    ...      ...   
AMANR5L15PO717460BTA0353P0D1N000118       NaN   NaN      NaN    NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000119       NaN   NaN      NaN    NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000120       NaN   NaN      NaN    NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000121       NaN   NaN      NaN    NaN      NaN   
AMANR5L15PO717460BTA0353P0D1N000122       NaN   NaN      NaN    NaN      NaN   

                                     œuvres  
AMANR5L15PO420120B2296P0D1N000001       NaN  
AMANR5L15PO420120B2296P0D1N000002       NaN  
AMANR5L15PO420120B2296P0D1N000005       NaN  
AMANR5L15PO420120B2296P0D1N000008       NaN  
AMANR5L15PO420120B2296P0D1N000010       NaN  
...                                     ...  
AMANR5L15PO717460BTA0353P0D1N000118     NaN  
AMANR5L15PO717460BTA0353P0D1N000119     NaN  
AMANR5L15PO717460BTA0353P0D1N000120     NaN  
AMANR5L15PO717460BTA0353P0D1N000121     NaN  
AMANR5L15PO717460BTA0353P0D1N000122     NaN  

[4797 rows x 13062 columns]
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>aa</th>
      <th>aah</th>
      <th>aasctel</th>
      <th>ab</th>
      <th>abaissant</th>
      <th>abaisse</th>
      <th>abaissement</th>
      <th>abaisser</th>
      <th>abaissés</th>
      <th>abandon</th>
      <th>...</th>
      <th>événements</th>
      <th>être</th>
      <th>êtrepar</th>
      <th>île</th>
      <th>œnologie</th>
      <th>œufs</th>
      <th>œuvrant</th>
      <th>œuvre</th>
      <th>œuvrent</th>
      <th>œuvres</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AMANR5L15PO420120B2296P0D1N000001</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>AMANR5L15PO420120B2296P0D1N000002</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>AMANR5L15PO420120B2296P0D1N000005</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>AMANR5L15PO420120B2296P0D1N000008</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>AMANR5L15PO420120B2296P0D1N000010</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>AMANR5L15PO717460BTA0353P0D1N000118</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>AMANR5L15PO717460BTA0353P0D1N000119</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>AMANR5L15PO717460BTA0353P0D1N000120</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>AMANR5L15PO717460BTA0353P0D1N000121</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>AMANR5L15PO717460BTA0353P0D1N000122</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>4797 rows × 13062 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span><span class="c1">#range(len(df_tf_idf)):</span>
    <span class="c1">#print(n)</span>
    <span class="c1">#print(id)</span>
    <span class="n">main</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="n">main</span><span class="p">[</span><span class="s1">&#39;Most_frequent_words&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">feature_names</span>
    <span class="n">main</span><span class="p">[</span><span class="s1">&#39;Word_occurrence&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_tf_idf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>  <span class="c1"># MAIN ISSUE HERE: Series definition not taking float but convert2 nan</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">df_tf_idf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">n</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_tf_idf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">n</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">df_tf_idf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">n</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">main</span><span class="p">[</span><span class="s1">&#39;Word_occurrence&#39;</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">main</span><span class="p">[</span><span class="s1">&#39;Word_occurrence&#39;</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">main</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">main</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
    <span class="n">main</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span><span class="p">[</span><span class="s1">&#39;Word_occurrence&#39;</span><span class="p">],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">na_position</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">main</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>nan
13062
&lt;class &#39;pandas.core.series.Series&#39;&gt;
nan
&lt;class &#39;pandas.core.series.Series&#39;&gt;
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
nan
13062
&lt;class &#39;pandas.core.series.Series&#39;&gt;
nan
&lt;class &#39;pandas.core.series.Series&#39;&gt;
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
nan
13062
&lt;class &#39;pandas.core.series.Series&#39;&gt;
nan
&lt;class &#39;pandas.core.series.Series&#39;&gt;
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
nan
13062
&lt;class &#39;pandas.core.series.Series&#39;&gt;
nan
&lt;class &#39;pandas.core.series.Series&#39;&gt;
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
nan
13062
&lt;class &#39;pandas.core.series.Series&#39;&gt;
nan
&lt;class &#39;pandas.core.series.Series&#39;&gt;
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
  Most_frequent_words  Word_occurrence
0                  aa              NaN
1                 aah              NaN
2             aasctel              NaN
3                  ab              NaN
4           abaissant              NaN
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Organizing most common words !Il faut transposer</span>
<span class="c1"># tuple_mots = ()</span>
<span class="c1"># for n in range(len(df_tf_idf)):</span>
<span class="c1">#     print(n)</span>
<span class="c1">#     id = df_tf_idf.index[n]</span>
<span class="c1">#     print(id)</span>
<span class="c1">#     #Creating a DF per amendment</span>
<span class="c1">#     main = pd.DataFrame()</span>
<span class="c1">#     main[&#39;Mots principaux&#39;] = df_tf_idf.columns.T</span>
<span class="c1">#     main[&#39;Occurence&#39;] = df_tf_idf.iloc[n]</span>
    
    
<span class="c1">#     #main[&#39;mots&#39;] = df_tf_idf[&#39;ID&#39;]</span>
    
<span class="c1">#     print(max(df_tf_idf.index[n]))</span>
<span class="c1">#     #print(main.head(5))</span>
<span class="c1">#     #main.sort_values(main[id])</span>

<span class="c1">#     #main = main.iloc[:25] #On ne garde que les 25 mots les plus utilisés par amendement</span>
<span class="c1">#     #tuple_mots.append(main)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_tf_idf</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(4797, 13062)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">id</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_tf_idf</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;AMANR5L15PO420120B2296P0D1N000001&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">df_tf_idf</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

