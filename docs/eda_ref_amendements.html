---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "notebook/eda_ref_amendements.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebook/eda_ref_amendements.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">reload_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">IPython.core.interactiveshell</span> <span class="kn">import</span> <span class="n">InteractiveShell</span>
<span class="n">InteractiveShell</span><span class="o">.</span><span class="n">ast_node_interactivity</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ls</span> <span class="o">../../</span><span class="n">donnees</span><span class="o">-</span><span class="n">extraites</span><span class="o">-</span><span class="n">assemblee</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>README.md
references_amendements_affaires_sociales.csv
references_amendements_plfss_2020-2021.csv
textes_amendements_nouveaux_articles_plfss_2020-2021.csv
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;../../donnees-extraites-assemblee/references_amendements_plfss_2020-2021.csv&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;alinea&#39;, &#39;alinea1&#39;, &#39;alinea2&#39;, &#39;article&#39;, &#39;book&#39;, &#39;chapter&#39;,
       &#39;code-part&#39;, &#39;law&#39;, &#39;lawType&#39;, &#39;paragraph&#39;, &#39;section&#39;, &#39;section1&#39;,
       &#39;sentence&#39;, &#39;text&#39;, &#39;title&#39;],
      dtype=&#39;object&#39;)</pre>
</div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>alinea</th>
      <th>alinea1</th>
      <th>alinea2</th>
      <th>article</th>
      <th>book</th>
      <th>chapter</th>
      <th>code-part</th>
      <th>law</th>
      <th>lawType</th>
      <th>paragraph</th>
      <th>section</th>
      <th>section1</th>
      <th>sentence</th>
      <th>text</th>
      <th>title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>V order: 5</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>au V</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>575</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>code général des impôts</td>
      <td>code</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>aux articles 575 et 575 A du code général des ...</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>575 A</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>code général des impôts</td>
      <td>code</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>aux articles 575 et 575 A du code général des ...</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span>
<span class="n">to_be_removed</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
    <span class="n">nb_unique_values</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;df[&quot;&#39;</span> <span class="o">+</span> <span class="n">column</span> <span class="o">+</span> <span class="s1">&#39;&quot;].nunique()&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distinct values in&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">nb_unique_values</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">nb_unique_values</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
        <span class="n">to_be_removed</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Column with too many distinct values :</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">to_be_removed</span><span class="p">)</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Display distinct values</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="n">columns_redux</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">columns</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">to_be_removed</span> <span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns_redux</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distinct values in&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>
    <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;df[&quot;&#39;</span> <span class="o">+</span> <span class="n">column</span> <span class="o">+</span> <span class="s1">&#39;&quot;].value_counts()&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in alinea : 72
Distinct values in alinea1 : 19
Distinct values in alinea2 : 7
Distinct values in article : 140
Distinct values in book : 19
Distinct values in chapter : 13
Distinct values in code-part : 5
Distinct values in law : 55
Distinct values in lawType : 6
Distinct values in paragraph : 3
Distinct values in section : 17
Distinct values in section1 : 2
Distinct values in sentence : 8
Distinct values in text : 759
Distinct values in title : 18

Column with too many distinct values :
 [&#39;alinea&#39;, &#39;article&#39;, &#39;law&#39;, &#39;text&#39;]
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;\nDisplay distinct values\n&#39;</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in alinea1
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1                112
2                 71
b order: b        49
3                 48
a order: a        41
4° order: 4       20
1° order: 1       11
indirect: -1       8
c order: c         7
C order: 100       7
4                  6
2° order: 2        4
5                  4
7                  3
f order: f         2
D order: 500       2
12° order: 12      2
3° order: 3        1
d order: d         1
Name: alinea1, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in alinea2
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>2                 5
3                 2
1                 2
b order: b        1
7                 1
a bis order: a    1
c order: c        1
Name: alinea2, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in book
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>IV                         22
II                         21
Ier                        21
indirect: (relative: 0)    18
III                        16
indirect: 1                15
VII                        12
1                           9
VIII                        6
2                           5
I                           4
8                           3
VI                          3
7                           2
1er                         2
IX                          2
V                           1
4                           1
5                           1
Name: book, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in chapter
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>II                         33
V                          26
Ier                        24
IV                         14
III                        11
indirect: (relative: 0)     8
2                           5
VI                          5
5                           4
7                           3
1er                         2
4                           2
3                           1
Name: chapter, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in code-part
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>indirect: 1    26
order: 6       18
order: 2       12
order: 5        4
order: 3        4
Name: code-part, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in lawType
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>code            3982
loi              348
constitution      34
arrêté             8
décret             6
ordonnance         3
Name: lawType, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in paragraph
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1.0    2
2.0    2
8.0    1
Name: paragraph, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in section
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>5                          21
1                          12
2                           9
3                           9
IV                          4
13                          3
4                           2
III                         2
VI                          2
indirect: (relative: 0)     2
7                           2
15                          1
14                          1
V                           1
8                           1
order: 3                    1
XX                          1
Name: section, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in section1
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>4.0    3
1.0    3
Name: section1, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in sentence
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1                          465
2                          301
indirect: -1                78
3                           54
indirect: (relative: 0)     16
4                            5
indirect: 1                  2
5                            1
Name: sentence, dtype: int64</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Distinct values in title
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>III                           34
II                            30
Ier                           25
VI                            11
IV                            11
indirect: (relative: 0)       10
I                              7
II indirect: (relative: 0)     4
4                              4
6                              3
V                              3
3                              3
1                              2
7                              1
1er                            1
2                              1
5                              1
9                              1
Name: title, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">law</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>code général des impôts                                                1358
code de la sécurité sociale                                            1309
indirect: (relative: 0)                                                 661
code de la santé publique                                               357
code rural et de la pêche maritime                                      181
code du travail                                                         152
code de l’action sociale et des familles                                146
Constitution                                                             34
code des assurances                                                      19
code pénal                                                               18
code de la mutualité                                                     14
code rural                                                               14
code des transports                                                      10
code général des collectivités territoriales                              9
code des pensions militaires d’invalidité et des victimes de guerre       7
code de commerce                                                          7
du 2019-12-24                                                             6
code monétaire et financier                                               6
2019-1446 du 2019-12-24                                                   6
code de l’entrée et du séjour des étrangers et du droit d’asile           4
code de procédure pénale                                                  4
code du sport                                                             4
code des communes                                                         4
code de la propriété intellectuelle                                       3
livre des procédures fiscales                                             3
78-17 du 1978-01-06                                                       3
2012-1404 du 2012-12-17                                                   3
du 1992-03-26                                                             3
code civil                                                                2
code des pensions civiles et militaires de retraite                       2
code de l’organisation judiciaire                                         2
code de l’Action Sociale et des Familles                                  2
2013-1203 du 2013-12-23                                                   2
du 1978-01-06                                                             2
2015-1702 du 2015-12-21                                                   2
98-1194 du 1998-12-23                                                     2
du 1901-07-01                                                             2
du 2017-03-16                                                             1
du 2006-09-15                                                             1
du 2002-10-28                                                             1
du 2020-07-09                                                             1
2003-1311 du 2003-12-30                                                   1
du 2018-02-22                                                             1
du 2009-12-23                                                             1
code de la défense                                                        1
2006-1640 du 2006-12-21                                                   1
code des procédures civiles d’exécution                                   1
Code de la santé publique                                                 1
2018-1203 du 2018-12-22                                                   1
code du tourisme                                                          1
du 2020-08-07                                                             1
code de l’environnement                                                   1
indirect: -1                                                              1
2014-1554 du 2014-12-22                                                   1
code du service national                                                  1
Name: law, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

